!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.galry=b()}(this,function(){"use strict";function a(a){return a+1>=n.length?0:a+1}function b(a){return 0>=a?n.length-1:a-1}function c(a){a.preventDefault(),e.maximize(a.currentTarget)}function d(a){a.preventDefault(),Math.max(-1,Math.min(1,a.wheelDelta||-a.detail))>0?e.prev():e.next()}function e(a,b){return e.setOptions(b),m=h(a),f(),e}function f(){n=m.getElementsByClassName(u.styles.elementsClassName);for(var a=0;a<n.length;a++){n[a].addEventListener("click",c,!1),n[a].setAttribute("data-id",a);var b=document.createElement("li"),d=document.createElement("img");o.appendChild(b),p.push(b),b.appendChild(d),b.classList.add(u.styles.elementsClassName),d.addEventListener("load",g),d.src=n[a].href}q.classList.add(u.styles.maximizedLayerClassName),q.classList.add(u.styles.maximizedLayerHiddenClassName),document.body.appendChild(q),q.appendChild(o),r.classList.add(u.styles.controlNextClassName),s.classList.add(u.styles.controlPrevClassName),q.appendChild(r),q.appendChild(s),k()}function g(a){var b=a.target;b.style.maxHeight=b.naturalHeight+"px",b.style.maxWidth=b.naturalWidth+"px"}function h(a){if("string"==typeof a)return document.getElementById(a);if("object"==typeof a)return a;throw"Could not find the gallery element. Please provide either an id-string, or the object itself"}function i(a){27==a.keyCode?e.minimize():38==a.keyCode||39==a.keyCode?e.next():(37==a.keyCode||40==a.keyCode)&&e.prev()}function j(a){"IMG"!==a.target.nodeName&&"A"!==a.target.nodeName&&e.minimize()}function k(){document.addEventListener("keydown",i),q.addEventListener("DOMMouseScroll",d),q.addEventListener("mousewheel",d),q.addEventListener("click",j),r.addEventListener("click",e.next),s.addEventListener("click",e.prev)}function l(){document.removeEventListener("keydown",i),q.removeEventListener("DOMMouseScroll",d),q.removeEventListener("mousewheel",d),q.removeEventListener("click",j)}e.maximize=function(c){"number"==typeof c&&(c=n[c]),p[t].classList.remove(u.styles.currentMaximizedImageClassName),p[b(t)].classList.remove(u.styles.prevMaximizedImageClassName),p[a(t)].classList.remove(u.styles.nextMaximizedImageClassName),t=parseInt(c.getAttribute("data-id"),10),p[t].classList.add(u.styles.currentMaximizedImageClassName),p[b(t)].classList.add(u.styles.prevMaximizedImageClassName),p[a(t)].classList.add(u.styles.nextMaximizedImageClassName),q.classList.remove(u.styles.maximizedLayerHiddenClassName)},e.minimize=function(){q.classList.add(u.styles.maximizedLayerHiddenClassName)},e.next=function(){if(!q.classList.contains(u.styles.maximizedLayerHiddenClassName)){var b=a(t);e.maximize(n[b]);var c=new CustomEvent("nextItem",{detail:{currentMaximizedItemId:b}});m.dispatchEvent(c)}},e.prev=function(){if(!q.classList.contains(u.styles.maximizedLayerHiddenClassName)){var a=b(t);e.maximize(n[a]);var c=new CustomEvent("prevItem",{detail:{currentMaximizedItemId:a}});m.dispatchEvent(c)}},e.getCurrentItemId=function(){return t};var m,n,o=document.createElement("ul"),p=[],q=document.createElement("div"),r=document.createElement("a"),s=document.createElement("a"),t=0,u={styles:{elementsClassName:"gal-item",maximizedLayerHiddenClassName:"hidden",maximizedLayerClassName:"gal-maximized-layer",currentMaximizedImageClassName:"gal-current-max",nextMaximizedImageClassName:"gal-next-max",prevMaximizedImageClassName:"gal-prev-max",controlNextClassName:"gal-control-next",controlPrevClassName:"gal-control-prev"}};return e.setOptions=function(a){for(var b in a)u[b]&&(u[b]=a[b])},e.destroy=function(){l(),document.body.removeChild(q)},e.getGalleryDomNode=function(){return m},e.addEventListener=function(a,b){m.addEventListener(a,b)},e});