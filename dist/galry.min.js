!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.galry=b()}(this,function(){"use strict";function a(c,d){return a.setOptions(d),h=f(c),b(),a}function b(){i=h.getElementsByClassName(n.styles.elementsClassName);for(var a=0;a<i.length;a++){i[a].addEventListener("click",e,!1),i[a].setAttribute("data-id",a);var b=document.createElement("li"),c=document.createElement("img");j.appendChild(b),k.push(b),b.appendChild(c),b.classList.add(n.styles.elementsClassName),c.src=i[a].href}l.classList.add(n.styles.maximizedLayerClassName),l.classList.add(n.styles.maximizedLayerHiddenClassName),document.body.appendChild(l),l.appendChild(j),g()}function c(a){return a+1>=i.length?0:a+1}function d(a){return 0>=a?i.length-1:a-1}function e(b){b.preventDefault(),a.maximize(b.currentTarget)}function f(a){if("string"==typeof a)return document.getElementById(a);if("object"==typeof a)return a;throw"Could not find the gallery element. Please provide either an id-string, or the object itself"}function g(){document.addEventListener("keydown",function(b){27==b.keyCode?a.minimize():38==b.keyCode||39==b.keyCode?a.next():(37==b.keyCode||40==b.keyCode)&&a.prev()}),document.addEventListener("mousewheel",function(b){b.wheelDeltaY>0?a.prev():a.next()}),l.addEventListener("click",function(b){b.target===l&&a.minimize()})}var h,i,j=document.createElement("ul"),k=[],l=document.createElement("div"),m=0,n={styles:{elementsClassName:"gal-item",maximizedLayerHiddenClassName:"hidden",maximizedLayerClassName:"gal-maximized-layer",currentMaximizedImageClassName:"gal-current-max",nextMaximizedImageClassName:"gal-next-max",prevMaximizedImageClassName:"gal-prev-max"},autoPreloading:!0};return a.setOptions=function(a){for(var b in a)n[b]&&(n[b]=a[b])},a.maximize=function(a){"number"==typeof a&&(a=i[a]),k[m].classList.remove(n.styles.currentMaximizedImageClassName),k[d(m)].classList.remove(n.styles.prevMaximizedImageClassName),k[c(m)].classList.remove(n.styles.nextMaximizedImageClassName),m=parseInt(a.getAttribute("data-id"),10),k[m].classList.add(n.styles.currentMaximizedImageClassName),k[d(m)].classList.add(n.styles.prevMaximizedImageClassName),k[c(m)].classList.add(n.styles.nextMaximizedImageClassName),l.classList.remove(n.styles.maximizedLayerHiddenClassName)},a.minimize=function(){l.classList.add(n.styles.maximizedLayerHiddenClassName)},a.next=function(){if(!l.classList.contains(n.styles.maximizedLayerHiddenClassName)){var b=c(m);a.maximize(i[b]);var d=new CustomEvent("nextItem",{detail:{currentMaximizedItemId:b}});h.dispatchEvent(d)}},a.prev=function(){if(!l.classList.contains(n.styles.maximizedLayerHiddenClassName)){var b=d(m);a.maximize(i[b]);var c=new CustomEvent("prevItem",{detail:{currentMaximizedItemId:b}});h.dispatchEvent(c)}},a.addEventListener=function(a,b){h.addEventListener(a,b)},a});