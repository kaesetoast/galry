!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.galry=b()}(this,function(){"use strict";function a(c,d){return a.setOptions(d),j=g(c),b(),a}function b(){k=j.getElementsByClassName(p.styles.elementsClassName);for(var a=0;a<k.length;a++){k[a].addEventListener("click",f,!1),k[a].setAttribute("data-id",a);var b=document.createElement("li"),d=document.createElement("img");l.appendChild(b),m.push(b),b.appendChild(d),b.classList.add(p.styles.elementsClassName),d.addEventListener("load",c),d.src=k[a].href}n.classList.add(p.styles.maximizedLayerClassName),n.classList.add(p.styles.maximizedLayerHiddenClassName),document.body.appendChild(n),n.appendChild(l),i()}function c(a){var b=a.target;b.style.maxHeight=b.naturalHeight+"px",b.style.maxWidth=b.naturalWidth+"px"}function d(a){return a+1>=k.length?0:a+1}function e(a){return 0>=a?k.length-1:a-1}function f(b){b.preventDefault(),a.maximize(b.currentTarget)}function g(a){if("string"==typeof a)return document.getElementById(a);if("object"==typeof a)return a;throw"Could not find the gallery element. Please provide either an id-string, or the object itself"}function h(b){b.preventDefault(),Math.max(-1,Math.min(1,b.wheelDelta||-b.detail))>0?a.prev():a.next()}function i(){document.addEventListener("keydown",function(b){27==b.keyCode?a.minimize():38==b.keyCode||39==b.keyCode?a.next():(37==b.keyCode||40==b.keyCode)&&a.prev()}),n.addEventListener("DOMMouseScroll",h),n.addEventListener("mousewheel",h),n.addEventListener("click",function(b){"IMG"!==b.target.nodeName&&a.minimize()})}var j,k,l=document.createElement("ul"),m=[],n=document.createElement("div"),o=0,p={styles:{elementsClassName:"gal-item",maximizedLayerHiddenClassName:"hidden",maximizedLayerClassName:"gal-maximized-layer",currentMaximizedImageClassName:"gal-current-max",nextMaximizedImageClassName:"gal-next-max",prevMaximizedImageClassName:"gal-prev-max"}};return a.setOptions=function(a){for(var b in a)p[b]&&(p[b]=a[b])},a.maximize=function(a){"number"==typeof a&&(a=k[a]),m[o].classList.remove(p.styles.currentMaximizedImageClassName),m[e(o)].classList.remove(p.styles.prevMaximizedImageClassName),m[d(o)].classList.remove(p.styles.nextMaximizedImageClassName),o=parseInt(a.getAttribute("data-id"),10),m[o].classList.add(p.styles.currentMaximizedImageClassName),m[e(o)].classList.add(p.styles.prevMaximizedImageClassName),m[d(o)].classList.add(p.styles.nextMaximizedImageClassName),n.classList.remove(p.styles.maximizedLayerHiddenClassName)},a.minimize=function(){n.classList.add(p.styles.maximizedLayerHiddenClassName)},a.next=function(){if(!n.classList.contains(p.styles.maximizedLayerHiddenClassName)){var b=d(o);a.maximize(k[b]);var c=new CustomEvent("nextItem",{detail:{currentMaximizedItemId:b}});j.dispatchEvent(c)}},a.prev=function(){if(!n.classList.contains(p.styles.maximizedLayerHiddenClassName)){var b=e(o);a.maximize(k[b]);var c=new CustomEvent("prevItem",{detail:{currentMaximizedItemId:b}});j.dispatchEvent(c)}},a.addEventListener=function(a,b){j.addEventListener(a,b)},a});