!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.galry=b()}(this,function(){"use strict";function a(c,e){return a.setOptions(e),f=d(c),b(),a}function b(){g=f.getElementsByClassName(k.styles.elementsClassName);for(var b=g.length-1;b>=0;b--)g[b].addEventListener("click",c,!1),g[b].setAttribute("data-id",b);h.classList.add(k.styles.maximizedLayerClassName),h.classList.add(k.styles.maximizedLayerHiddenClassName),document.body.appendChild(h),i.classList.add(k.styles.elementsClassName),h.appendChild(i),e(),k.autoPreloading&&a.preload()}function c(b){b.preventDefault(),a.maximize(b.currentTarget)}function d(a){if("string"==typeof a)return document.getElementById(a);if("object"==typeof a)return a;throw"Could not find the gallery element. Please provide either an id-string, or the object itself"}function e(){document.addEventListener("keydown",function(b){27==b.keyCode?a.minimize():38==b.keyCode||39==b.keyCode?a.next():(37==b.keyCode||40==b.keyCode)&&a.prev()}),document.addEventListener("mousewheel",function(b){b.wheelDeltaY>0?a.next():a.prev()}),h.addEventListener("click",function(b){b.target===h&&a.minimize()})}var f,g,h=document.createElement("div"),i=document.createElement("img"),j=null,k={styles:{elementsClassName:"gal-item",maximizedLayerHiddenClassName:"hidden",maximizedLayerClassName:"gal-maximized-layer"},autoPreloading:!0};return a.setOptions=function(a){for(var b in a)k[b]&&(k[b]=a[b])},a.maximize=function(a){"number"==typeof a&&(a=g[a]),i.src=a.href,j=parseInt(a.getAttribute("data-id"),10),h.classList.remove(k.styles.maximizedLayerHiddenClassName)},a.minimize=function(){j=null,h.classList.add(k.styles.maximizedLayerHiddenClassName)},a.next=function(){if(null!==j){j+1>=g.length?j=0:j++,a.maximize(g[j]);var b=new CustomEvent("nextItem",{detail:{currentMaximizedItemId:j}});f.dispatchEvent(b)}},a.prev=function(){if(null!==j){0>=j?j=g.length-1:j--,a.maximize(g[j]);var b=new CustomEvent("prevItem",{detail:{currentMaximizedItemId:j}});f.dispatchEvent(b)}},a.preload=function(){for(var a=g.length-1;a>=0;a--){var b=new Image;b.src=g[a].href}},a.addEventListener=function(a,b){f.addEventListener(a,b)},a});