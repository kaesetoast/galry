!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.galry=b()}(this,function(){"use strict";function a(c,e){return a.setOptions(e),f=d(c),b(),a}function b(){g=f.getElementsByClassName(l.styles.elementsClassName);for(var a=0;a<g.length;a++){g[a].addEventListener("click",c,!1),g[a].setAttribute("data-id",a);var b=document.createElement("li"),d=document.createElement("img");h.appendChild(b),i.push(b),b.appendChild(d),b.classList.add(l.styles.elementsClassName),d.src=g[a].href}j.classList.add(l.styles.maximizedLayerClassName),j.classList.add(l.styles.maximizedLayerHiddenClassName),document.body.appendChild(j),j.appendChild(h),e()}function c(b){b.preventDefault(),a.maximize(b.currentTarget)}function d(a){if("string"==typeof a)return document.getElementById(a);if("object"==typeof a)return a;throw"Could not find the gallery element. Please provide either an id-string, or the object itself"}function e(){document.addEventListener("keydown",function(b){27==b.keyCode?a.minimize():38==b.keyCode||39==b.keyCode?a.next():(37==b.keyCode||40==b.keyCode)&&a.prev()}),document.addEventListener("mousewheel",function(b){b.wheelDeltaY>0?a.prev():a.next()}),j.addEventListener("click",function(b){b.target===j&&a.minimize()})}var f,g,h=document.createElement("ul"),i=[],j=document.createElement("div"),k=0,l={styles:{elementsClassName:"gal-item",maximizedLayerHiddenClassName:"hidden",maximizedLayerClassName:"gal-maximized-layer",currentMaximizedImageClassName:"gal-current-max",nextMaximizedImageClassName:"gal-next-max",prevMaximizedImageClassName:"gal-prev-max"},autoPreloading:!0};return a.setOptions=function(a){for(var b in a)l[b]&&(l[b]=a[b])},a.maximize=function(a){"number"==typeof a&&(a=g[a]),i[k].classList.remove(l.styles.currentMaximizedImageClassName),k=parseInt(a.getAttribute("data-id"),10),i[k].classList.add(l.styles.currentMaximizedImageClassName),j.classList.remove(l.styles.maximizedLayerHiddenClassName)},a.minimize=function(){j.classList.add(l.styles.maximizedLayerHiddenClassName)},a.next=function(){var b;b=k+1>=g.length?0:k+1,a.maximize(g[b]);var c=new CustomEvent("nextItem",{detail:{currentMaximizedItemId:b}});f.dispatchEvent(c)},a.prev=function(){var b;b=0>=k?g.length-1:k-1,a.maximize(g[b]);var c=new CustomEvent("prevItem",{detail:{currentMaximizedItemId:b}});f.dispatchEvent(c)},a.addEventListener=function(a,b){f.addEventListener(a,b)},a});