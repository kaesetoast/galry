!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.galry=b()}(this,function(){"use strict";function a(c,d){return a.setOptions(d),i=g(c),b(),a}function b(){j=i.getElementsByClassName(o.styles.elementsClassName);for(var a=0;a<j.length;a++){j[a].addEventListener("click",f,!1),j[a].setAttribute("data-id",a);var b=document.createElement("li"),d=document.createElement("img");k.appendChild(b),l.push(b),b.appendChild(d),b.classList.add(o.styles.elementsClassName),d.addEventListener("load",c),d.src=j[a].href}m.classList.add(o.styles.maximizedLayerClassName),m.classList.add(o.styles.maximizedLayerHiddenClassName),document.body.appendChild(m),m.appendChild(k),h()}function c(a){var b=a.target;b.style.maxHeight=b.naturalHeight+"px",b.style.maxWidth=b.naturalWidth+"px"}function d(a){return a+1>=j.length?0:a+1}function e(a){return 0>=a?j.length-1:a-1}function f(b){b.preventDefault(),a.maximize(b.currentTarget)}function g(a){if("string"==typeof a)return document.getElementById(a);if("object"==typeof a)return a;throw"Could not find the gallery element. Please provide either an id-string, or the object itself"}function h(){document.addEventListener("keydown",function(b){27==b.keyCode?a.minimize():38==b.keyCode||39==b.keyCode?a.next():(37==b.keyCode||40==b.keyCode)&&a.prev()}),document.addEventListener("mousewheel",function(b){b.wheelDeltaY>0?a.prev():a.next()}),m.addEventListener("click",function(b){b.target===m&&a.minimize()})}var i,j,k=document.createElement("ul"),l=[],m=document.createElement("div"),n=0,o={styles:{elementsClassName:"gal-item",maximizedLayerHiddenClassName:"hidden",maximizedLayerClassName:"gal-maximized-layer",currentMaximizedImageClassName:"gal-current-max",nextMaximizedImageClassName:"gal-next-max",prevMaximizedImageClassName:"gal-prev-max"},autoPreloading:!0};return a.setOptions=function(a){for(var b in a)o[b]&&(o[b]=a[b])},a.maximize=function(a){"number"==typeof a&&(a=j[a]),l[n].classList.remove(o.styles.currentMaximizedImageClassName),l[e(n)].classList.remove(o.styles.prevMaximizedImageClassName),l[d(n)].classList.remove(o.styles.nextMaximizedImageClassName),n=parseInt(a.getAttribute("data-id"),10),l[n].classList.add(o.styles.currentMaximizedImageClassName),l[e(n)].classList.add(o.styles.prevMaximizedImageClassName),l[d(n)].classList.add(o.styles.nextMaximizedImageClassName),m.classList.remove(o.styles.maximizedLayerHiddenClassName)},a.minimize=function(){m.classList.add(o.styles.maximizedLayerHiddenClassName)},a.next=function(){if(!m.classList.contains(o.styles.maximizedLayerHiddenClassName)){var b=d(n);a.maximize(j[b]);var c=new CustomEvent("nextItem",{detail:{currentMaximizedItemId:b}});i.dispatchEvent(c)}},a.prev=function(){if(!m.classList.contains(o.styles.maximizedLayerHiddenClassName)){var b=e(n);a.maximize(j[b]);var c=new CustomEvent("prevItem",{detail:{currentMaximizedItemId:b}});i.dispatchEvent(c)}},a.addEventListener=function(a,b){i.addEventListener(a,b)},a});