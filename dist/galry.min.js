!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.galry=b()}(this,function(){"use strict";function a(a){return a+1>=k.length?0:a+1}function b(a){return 0>=a?k.length-1:a-1}function c(a){a.preventDefault(),e.maximize(a.currentTarget)}function d(a){a.preventDefault(),Math.max(-1,Math.min(1,a.wheelDelta||-a.detail))>0?e.prev():e.next()}function e(a,b){return e.setOptions(b),j=h(a),f(),e}function f(){k=j.getElementsByClassName(p.styles.elementsClassName);for(var a=0;a<k.length;a++){k[a].addEventListener("click",c,!1),k[a].setAttribute("data-id",a);var b=document.createElement("li"),d=document.createElement("img");l.appendChild(b),m.push(b),b.appendChild(d),b.classList.add(p.styles.elementsClassName),d.addEventListener("load",g),d.src=k[a].href}n.classList.add(p.styles.maximizedLayerClassName),n.classList.add(p.styles.maximizedLayerHiddenClassName),document.body.appendChild(n),n.appendChild(l),i()}function g(a){var b=a.target;b.style.maxHeight=b.naturalHeight+"px",b.style.maxWidth=b.naturalWidth+"px"}function h(a){if("string"==typeof a)return document.getElementById(a);if("object"==typeof a)return a;throw"Could not find the gallery element. Please provide either an id-string, or the object itself"}function i(){document.addEventListener("keydown",function(a){27==a.keyCode?e.minimize():38==a.keyCode||39==a.keyCode?e.next():(37==a.keyCode||40==a.keyCode)&&e.prev()}),n.addEventListener("DOMMouseScroll",d),n.addEventListener("mousewheel",d),n.addEventListener("click",function(a){"IMG"!==a.target.nodeName&&e.minimize()})}e.maximize=function(c){"number"==typeof c&&(c=k[c]),m[o].classList.remove(p.styles.currentMaximizedImageClassName),m[b(o)].classList.remove(p.styles.prevMaximizedImageClassName),m[a(o)].classList.remove(p.styles.nextMaximizedImageClassName),o=parseInt(c.getAttribute("data-id"),10),m[o].classList.add(p.styles.currentMaximizedImageClassName),m[b(o)].classList.add(p.styles.prevMaximizedImageClassName),m[a(o)].classList.add(p.styles.nextMaximizedImageClassName),n.classList.remove(p.styles.maximizedLayerHiddenClassName)},e.minimize=function(){n.classList.add(p.styles.maximizedLayerHiddenClassName)},e.next=function(){if(!n.classList.contains(p.styles.maximizedLayerHiddenClassName)){var b=a(o);e.maximize(k[b]);var c=new CustomEvent("nextItem",{detail:{currentMaximizedItemId:b}});j.dispatchEvent(c)}},e.prev=function(){if(!n.classList.contains(p.styles.maximizedLayerHiddenClassName)){var a=b(o);e.maximize(k[a]);var c=new CustomEvent("prevItem",{detail:{currentMaximizedItemId:a}});j.dispatchEvent(c)}};var j,k,l=document.createElement("ul"),m=[],n=document.createElement("div"),o=0,p={styles:{elementsClassName:"gal-item",maximizedLayerHiddenClassName:"hidden",maximizedLayerClassName:"gal-maximized-layer",currentMaximizedImageClassName:"gal-current-max",nextMaximizedImageClassName:"gal-next-max",prevMaximizedImageClassName:"gal-prev-max"}};return e.setOptions=function(a){for(var b in a)p[b]&&(p[b]=a[b])},e.addEventListener=function(a,b){j.addEventListener(a,b)},e});